<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<title>Boltobserv - Waiting for CSGO</title>
		<meta charset="utf-8">
		<link rel="icon" href="/img/icon-64x64.png" sizes="64x64" type="image/png">

		<link rel="stylesheet" href="/css/main.css">
		<link rel="stylesheet" href="/css/waiting.css">

		<script src="/renderers/_socket.io.min.js"></script>
		<script src="/renderers/_global.js"></script>
		<script src="/renderers/_socket.js"></script>
	</head>
	<body>
		<div id="dragarea"></div>

		<div id="game">
			<div id="cfgs"></div>

			<img src="/img/icon.svg">
			<div id="noconnection">
				Connecting to PGL backend...
			</div>
		</div>

		<span id="version"></span>

		<script>
			const serverAddress = 'http://localhost:4400/?client='
			// client can named 'main', 'second' or 'delay'
			const client = 'main'

			iosocket = io(`${serverAddress}${client}`)

			iosocket.on('connect', () => {
				document.getElementById("noconnection").innerHTML = "Connected to backend!<br>Waiting on map name..."
				iosocket.emit(`subscribe`, `main_OverlayRadar`)

				iosocket.on('main_OverlayRadar', (data) => {
						console.log(data)
				})
			})

			iosocket.on('disconnect', () => {
				document.getElementById("noconnection").innerHTML = "Connection to backend lost, reconnecting..."
			})

		</script>
	</body>
</html>
